<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: Generic USB Drivers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="pages.html"><span>相关页面</span></a></li>
      <li class="current"><a href="modules.html"><span>模块</span></a></li>
      <li><a href="annotated.html"><span>类</span></a></li>
      <li><a href="files.html"><span>文件</span></a></li>
      <li><a href="examples.html"><span>示例</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">Generic USB Drivers<div class="ingroups"><a class="el" href="group__USB.html">Generic USB</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><b>Generic USB Drivers</b>  
<a href="#details">更多...</a></p>
<div class="dynheader">
Generic USB Drivers 的协作图:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__usb__drivers__file.png" border="0" alt="" usemap="#group____usb____drivers____file"/>
<map name="group____usb____drivers____file" id="group____usb____drivers____file">
<area shape="rect" id="node2" href="group__USB.html" title="Generic USB" alt="" coords="5,5,104,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:ga8bbc488106ca72c2b550c1c9f89d5748"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__usbd__device.html">usbd_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__drivers__file.html#ga8bbc488106ca72c2b550c1c9f89d5748">usbd_init</a> (const <a class="el" href="struct__usbd__driver.html">usbd_driver</a> *driver, const struct <a class="el" href="structusb__device__descriptor.html">usb_device_descriptor</a> *dev, const struct <a class="el" href="structusb__config__descriptor.html">usb_config_descriptor</a> *conf, const char **strings, int num_strings, uint8_t *control_buffer, uint16_t control_buffer_size)</td></tr>
<tr class="separator:ga8bbc488106ca72c2b550c1c9f89d5748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cdd6f2cd24e7e222b2add6e08283a7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2cdd6f2cd24e7e222b2add6e08283a7e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_register_reset_callback</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, void(*callback)(void))</td></tr>
<tr class="separator:ga2cdd6f2cd24e7e222b2add6e08283a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga064f9d058427b1fb6f40b35e03a8cd5b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga064f9d058427b1fb6f40b35e03a8cd5b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_register_suspend_callback</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, void(*callback)(void))</td></tr>
<tr class="separator:ga064f9d058427b1fb6f40b35e03a8cd5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga004c77a73e4dcd6216678925f3fa1f41"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga004c77a73e4dcd6216678925f3fa1f41"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_register_resume_callback</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, void(*callback)(void))</td></tr>
<tr class="separator:ga004c77a73e4dcd6216678925f3fa1f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8e688f14cac90c4933954e3ebbfc3b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad8e688f14cac90c4933954e3ebbfc3b7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_register_sof_callback</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, void(*callback)(void))</td></tr>
<tr class="separator:gad8e688f14cac90c4933954e3ebbfc3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bc8dd33500621a1e900c78a42dcaf27"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3bc8dd33500621a1e900c78a42dcaf27"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_usbd_reset</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev)</td></tr>
<tr class="separator:ga3bc8dd33500621a1e900c78a42dcaf27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94eba5aff7befd8009cea2f2abb43134"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga94eba5aff7befd8009cea2f2abb43134"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_poll</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev)</td></tr>
<tr class="separator:ga94eba5aff7befd8009cea2f2abb43134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef20aadd330e4bb9e97635eeb751d8f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaef20aadd330e4bb9e97635eeb751d8f9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_disconnect</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, bool disconnected)</td></tr>
<tr class="separator:gaef20aadd330e4bb9e97635eeb751d8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga888110ac1598406bb834b494c8db7f6c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga888110ac1598406bb834b494c8db7f6c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_ep_setup</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, uint8_t addr, uint8_t type, uint16_t max_size, void(*callback)(<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, uint8_t ep))</td></tr>
<tr class="separator:ga888110ac1598406bb834b494c8db7f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5b245bdd9757cdc79d1fe721ebcf03f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa5b245bdd9757cdc79d1fe721ebcf03f"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_ep_write_packet</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, uint8_t addr, const void *buf, uint16_t len)</td></tr>
<tr class="separator:gaa5b245bdd9757cdc79d1fe721ebcf03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd42dc86361dbf9c639fd883ada1f572"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabd42dc86361dbf9c639fd883ada1f572"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_ep_read_packet</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, uint8_t addr, void *buf, uint16_t len)</td></tr>
<tr class="separator:gabd42dc86361dbf9c639fd883ada1f572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d16be856512df298e40dfa31a216172"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6d16be856512df298e40dfa31a216172"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_ep_stall_set</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, uint8_t addr, uint8_t stall)</td></tr>
<tr class="separator:ga6d16be856512df298e40dfa31a216172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga396b34ccbe5bf6718417ef3ee0c3b788"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga396b34ccbe5bf6718417ef3ee0c3b788"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_ep_stall_get</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, uint8_t addr)</td></tr>
<tr class="separator:ga396b34ccbe5bf6718417ef3ee0c3b788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f2a7dac5031fd8d1b5eb076d3f24b42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2f2a7dac5031fd8d1b5eb076d3f24b42"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>usbd_ep_nak_set</b> (<a class="el" href="struct__usbd__device.html">usbd_device</a> *usbd_dev, uint8_t addr, uint8_t nak)</td></tr>
<tr class="separator:ga2f2a7dac5031fd8d1b5eb076d3f24b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p><b>Generic USB Drivers</b> </p>
<dl class="section version"><dt>版本</dt><dd>1.0.0</dd></dl>
<dl class="section author"><dt>作者</dt><dd> &copy;  2010 Gareth McMullin <a href="#" onclick="location.href='mai'+'lto:'+'gar'+'et'+'h@b'+'la'+'cks'+'ph'+'ere'+'.c'+'o.n'+'z'; return false;">garet<span style="display: none;">.nosp@m.</span>h@bl<span style="display: none;">.nosp@m.</span>acksp<span style="display: none;">.nosp@m.</span>here<span style="display: none;">.nosp@m.</span>.co.n<span style="display: none;">.nosp@m.</span>z</a></dd></dl>
<dl class="section date"><dt>日期</dt><dd>10 March 2013</dd></dl>
<p>LGPL License Terms <a class="el" href="lgpl_license.html">libopencm3 License</a> </p>
<h2 class="groupheader">函数说明</h2>
<a class="anchor" id="ga8bbc488106ca72c2b550c1c9f89d5748"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__usbd__device.html">usbd_device</a>* usbd_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__usbd__driver.html">usbd_driver</a> *&#160;</td>
          <td class="paramname"><em>driver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structusb__device__descriptor.html">usb_device_descriptor</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structusb__config__descriptor.html">usb_config_descriptor</a> *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>strings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_strings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>control_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>control_buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main initialization entry point.</p>
<p>Initialize the USB firmware library to implement the USB device described by the descriptors provided.</p>
<p>It is required that the 48MHz USB clock is already available.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">driver</td><td>TODO </td></tr>
    <tr><td class="paramname">dev</td><td>Pointer to USB device descriptor. This must not be changed while the device is in use. </td></tr>
    <tr><td class="paramname">conf</td><td>Pointer to array of USB configuration descriptors. These must not be changed while the device is in use. The length of this array is determined by the bNumConfigurations field in the device descriptor. </td></tr>
    <tr><td class="paramname">strings</td><td>TODO </td></tr>
    <tr><td class="paramname">control_buffer</td><td>Pointer to array that would hold the data received during control requests with DATA stage </td></tr>
    <tr><td class="paramname">control_buffer_size</td><td>Size of control_buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Zero on success (currently cannot fail). </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
